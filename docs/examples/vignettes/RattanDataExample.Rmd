---
subtitle: "Rattan Data Example"
output:
  github_document:
    preserve_yaml: FALSE
vignette: >
  %\VignetteIndexEntry{Rattan Data Example}
  %\VignetteEngine{knitr::rmarkdown}
  %\VignetteEncoding{UTF-8}
---

```{r,include=FALSE}
knitr::opts_chunk$set(fig.width = 7, fig.height = 5, fig.path = "figures/", echo = TRUE, warning = FALSE, message = FALSE)
devtools::source_gist("8e6e5dc401e3fc1042ef7a030f9d19c7", filename = "revised_toc.R")
```

```{r,include=FALSE}
if (!require(EASI)) {
  if (!require(remotes)) install.packages("remotes")
  remotes::install_github("cwendorf/EASI")
}
library(EASI)
```

## Rattan Data Example

This page analyzes a single-factor between-subjects (one-way) design using raw data input.

```{r toc, echo=FALSE}
thisfile <- knitr::current_input()
revised_toc(thisfile, base_level = 3, toc_depth = 4)
```

---

### Data Management

Prior to analyses, enter the data.

```{r}
Feedback <- c(1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3)
Motivation <- c(5.5, 5, 5.5, 6, 1, 2.5, 4.5, 1, 3.5, 1.5, 5.5, 6, 1.5, 1, 3.5, 2.5, 3, 1, 2, 6, 4.5, 4.5, 6, 7, 3, 7, 3.5, 5, 4.5, 5.5, 6.5, 6, 6, 7, 5.5, 6, 2.5, 4.5, 3.5, 6, 5, 6, 3.5, 4, 3, 5.5, 3, 6, 3, 5, 6, 6.5, 3.5, 2)
Feedback <- factor(Feedback, levels = c(1, 2, 3), labels = c("Comfort", "Challenge", "Control"))
RattanData <- data.frame(Feedback, Motivation)
```

### Analyses of the Different Groups

With multiple groups, it is useful to get descriptive statistics and confidence intervals for each group.

```{r,Rattan-Data-Means}
estimateMeans(Motivation ~ Feedback)
plotMeans(Motivation ~ Feedback, main = "Motivation as a Function of Feedback Type", ylab = "Motivation", ylim = c(0, 7), values = FALSE)
```

### Analysis of a Group Difference

The first research question is whether there is a difference between the two non-control groups.

First, set the comparison and obtain the difference plot for that comparison.

```{r,Rattan-Data-Comparison}
Comparison <- factor(Feedback, c("Comfort", "Challenge"))
estimateMeanComparison(Motivation ~ Comparison)
plotMeanComparison(Motivation ~ Comparison, main = "Influence of Comfort vs Challenge Feedback on Motivation", ylab = "Motivation", ylim = c(0, 7), values = FALSE)
```

Then, obtain the standardized effect size for that comparison.

```{r}
estimateStandardizedMeanDifference(Motivation ~ Comparison)
```

### Analysis of a Group Contrast

The second research question is whether the Comfort group differs from the other two groups.

First, set the contrast and obtain a difference plot for the contrast.

```{r,Rattan-Data-Contrast}
ComfortvsOthers <- c(-1, .5, .5)
estimateMeanSubsets(Motivation ~ Feedback, contrast = ComfortvsOthers)
plotMeanSubsets(Motivation ~ Feedback, contrast = ComfortvsOthers, labels = c("Comfort", "Others"), main = "Influence of Comfort Feedback vs \n Other Types of Feedback on Motivation", ylab = "Motivation", ylim = c(0, 7), values = FALSE)
```

Then, estimate the standardized contrast.

```{r}
estimateStandardizedMeanContrast(Motivation ~ Feedback, contrast = ComfortvsOthers)
```
